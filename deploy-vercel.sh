#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–∞–π—Ç—É YummyAnimeList –Ω–∞ Vercel

echo "üöÄ –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–∞–π—Ç—É YummyAnimeList –Ω–∞ Vercel..."

# –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Vercel CLI
if ! command -v vercel &> /dev/null; then
    echo "‚ùå Vercel CLI –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!"
    echo ""
    echo "üì• –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Vercel CLI:"
    echo "npm install -g vercel"
    echo ""
    echo "–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –∑–Ω–æ–≤—É."
    exit 1
fi

# –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —ñ—Å–Ω—É—î –ø–∞–ø–∫–∞ public
if [ ! -d "public" ]; then
    echo "‚ùå –ü–∞–ø–∫–∞ 'public' –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞!"
    echo "–°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞–ø–∫—É 'public' —Ç–∞ –ø–æ–º—ñ—Å—Ç—ñ—Ç—å —Ç—É–¥–∏ index.html"
    exit 1
fi

# –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —ñ—Å–Ω—É—î index.html
if [ ! -f "public/index.html" ]; then
    echo "‚ùå –§–∞–π–ª 'public/index.html' –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!"
    echo "–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª index.html –≤ –ø–∞–ø—Ü—ñ public"
    exit 1
fi

# –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —ñ—Å–Ω—É—î vercel.json
if [ ! -f "vercel.json" ]; then
    echo "‚ùå –§–∞–π–ª 'vercel.json' –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!"
    echo "–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª vercel.json –¥–ª—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó Vercel"
    exit 1
fi

echo "‚úÖ –í—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏ –∑–Ω–∞–π–¥–µ–Ω–æ!"
echo ""

echo "üìã –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –ø–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—é –Ω–∞ Vercel:"
echo ""
echo "1Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):"
echo "   - –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ñ–∞–π–ª–∏ –Ω–∞ GitHub"
echo "   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://vercel.com"
echo "   - –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å GitHub –∞–∫–∞—É–Ω—Ç"
echo "   - –Ü–º–ø–æ—Ä—Ç—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π"
echo "   - Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∏—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è"
echo "   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å 'Deploy'"
echo ""

echo "2Ô∏è‚É£ –†—É—á–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —á–µ—Ä–µ–∑ CLI:"
echo "   - –£–≤—ñ–π–¥—ñ—Ç—å –≤ Vercel: vercel login"
echo "   - –†–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç: vercel --prod"
echo ""

echo "3Ô∏è‚É£ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É:"
echo "   - Framework Preset: Other"
echo "   - Root Directory: ."
echo "   - Build Command: –∑–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º"
echo "   - Output Directory: public"
echo ""

echo "üéØ –ü–µ—Ä–µ–≤–∞–≥–∏ Vercel:"
echo "   ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ"
echo "   ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ GitHub"
echo "   ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∞ CDN"
echo "   ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏"
echo "   ‚úÖ –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥"
echo "   ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ñ –¥–æ–º–µ–Ω–∏"
echo ""

echo "üìù –ü—ñ—Å–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –æ–Ω–æ–≤—ñ—Ç—å utils/linksConfig.js:"
echo "SHARE_BASE_URL: 'https://your-site-name.vercel.app'"
echo ""

# –ü—Ä–æ–ø–æ–Ω—É—î–º–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
echo "ü§ñ –•–æ—á–µ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ —á–µ—Ä–µ–∑ Vercel CLI? (y/n)"
read -r response

if [[ "$response" =~ ^[Yy]$ ]]; then
    echo ""
    echo "üöÄ –ó–∞–ø—É—Å–∫ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è..."
    
    # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —É–≤—ñ–π—à–æ–≤ –≤ Vercel
    if vercel whoami &> /dev/null; then
        echo "‚úÖ –í–∏ —É–≤—ñ–π—à–ª–∏ –≤ Vercel"
        echo "üöÄ –†–æ–∑–≥–æ—Ä—Ç–∞—î–º–æ –ø—Ä–æ–µ–∫—Ç..."
        vercel --prod
    else
        echo "‚ùå –í–∏ –Ω–µ —É–≤—ñ–π—à–ª–∏ –≤ Vercel"
        echo "üîê –£–≤—ñ–π–¥—ñ—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É:"
        vercel login
        echo ""
        echo "üöÄ –¢–µ–ø–µ—Ä —Ä–æ–∑–≥–æ—Ä—Ç–∞—î–º–æ –ø—Ä–æ–µ–∫—Ç..."
        vercel --prod
    fi
else
    echo ""
    echo "üìã –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó:"
    echo ""
    echo "üåê –í–∞—Ä—ñ–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)"
    echo "1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://vercel.com"
    echo "2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å 'New Project'"
    echo "3. –Ü–º–ø–æ—Ä—Ç—É–π—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π"
    echo "4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:"
    echo "   - Framework: Other"
    echo "   - Root Directory: ."
    echo "   - Build Command: –∑–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º"
    echo "   - Output Directory: public"
    echo "5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å 'Deploy'"
    echo ""
    
    echo "üîß –í–∞—Ä—ñ–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ CLI"
    echo "1. vercel login"
    echo "2. vercel --prod"
    echo ""
fi

echo ""
echo "üåê –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–∞–ø—É—Å—Ç—ñ—Ç—å:"
echo "npm run dev"
echo "–∞–±–æ"
echo "cd public && http-server"
echo ""

echo "‚ú® –£—Å–ø—ñ—à–Ω–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Vercel!"
